<!DOCTYPE html>
<html>
<head>
  <title>File Pairs Upload</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <h1>Select 2 Pairs of Files</h1>

  <form method="POST" enctype="multipart/form-data">
    <table>
      <tr>
        <th>File A</th>
        <th>File B</th>
      </tr>

      {% for i in range(2) %}
      <tr>
        <!-- File A -->
        <td>
          <label class="file-label">
            <input type="file" name="fileA[]">
            <span>{{ filenamesA[i] if filenamesA|length > i else "Choose file" }}</span>
          </label>
          {% if resultsA[i] %}
          <div class="result">Result: {{ resultsA[i] }}</div>
          {% endif %}
        </td>

        <!-- File B -->
        <td>
          <label class="file-label">
            <input type="file" name="fileB[]">
            <span>{{ filenamesB[i] if filenamesB|length > i else "Choose file" }}</span>
          </label>
          {% if resultsB[i] %}
          <div class="result">Result: {{ resultsB[i] }}</div>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </table>

    <button type="submit">Upload & Run AI</button>
  </form>

  <script>
    // Update span with filename on file selection
    document.querySelectorAll('.file-label input[type="file"]').forEach(input => {
      input.addEventListener('change', function() {
        this.nextElementSibling.textContent = this.files[0]?.name || "Choose file";
      });
    });
  </script>
</body>
</html>
